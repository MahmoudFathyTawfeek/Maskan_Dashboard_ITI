<div class="d-flex">
  <!-- Sidebar -->
  <div class="col-md-2 text-white p-3 d-none d-md-block text-center" 
       style="min-height: 100vh; border-right: 1px solid rgb(61, 4, 114);">
    <!-- ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ¨ÿßŸÜÿ®Ÿä -->
  </div>

  <!-- Main Content -->
  <div class="col-md-10 col-12 p-4">
    <!-- ÿπŸÜŸàÿßŸÜ Ÿàÿ≤ÿ± ÿßŸÑÿ•ÿ∂ÿßŸÅÿ© -->
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h3>All Units</h3>
      <a routerLink="/Add-unit" class="btn btn-primary">+ Add Units</a>
    </div>

    <!-- ÿßŸÑÿ¨ÿØŸàŸÑ -->
  
<table class="table table-bordered table-hover text-center align-middle"
        *ngIf="paginatedUnits.length > 0" [ngClass]="isDarkMode ? 'bg-black text-light' : 'bg-light text-dark'"
        style="border: 1px solid rgb(61, 4, 114);">
  <thead >
          <tr>
            <th>Image</th>
            <th>Title</th>
            <th>Unit ID</th>
            <th>Description</th>
            <th>Location</th>
            <th>Price (LE)</th>
            <th>Available</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody >
           <!-- Loader -->
          <div *ngIf="loading" class="text-center my-5">
            <div class="spinner-border text-primary" role="status"></div>
            <p class="mt-2">Loading listings...</p>
          </div>
          <tr *ngFor="let unit of paginatedUnits"  >
            <td>
              <img [src]="unit.imageUrl || 'https://via.placeholder.com/100x80'" alt="unit image" style="width: 100px; height: 80px; object-fit: cover;">
            </td>
            <td>{{ unit.title }}</td>
            <td>{{ unit.id }}</td>
            <td>{{ unit.description }}</td>
            <td>{{ unit.location }}</td>
            <td>{{ unit.price }}</td>
            <td>
              <span class="badge" [ngClass]="unit.isAvailable ? 'bg-success' : 'bg-danger'">
                {{ unit.isAvailable ? 'Yes' : 'No' }}
              </span>
            </td>
            <td>
              <button class="btn btn-danger btn-sm me-1" (click)="deleteunit(unit.id)">üóëÔ∏è</button>
              <a [routerLink]="['/units', unit.id]" class="btn btn-info btn-sm">üìÑ</a>
            </td>
          </tr>
        </tbody>
      </table>


    <!-- Pagination Controls -->
    <nav *ngIf="totalPages > 1">
      <ul class="pagination justify-content-center">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <button class="page-link" (click)="goToPage(currentPage - 1)">Previous</button>
        </li>
        <li 
          class="page-item" 
          *ngFor="let page of [].constructor(totalPages); let i = index"
          [class.active]="currentPage === i + 1">
          <button class="page-link" (click)="goToPage(i + 1)">{{ i + 1 }}</button>
        </li>
        <li class="page-item" [class.disabled]="currentPage === totalPages">
          <button class="page-link" (click)="goToPage(currentPage + 1)">Next</button>
        </li>
      </ul>
    </nav>
  </div>
</div>
